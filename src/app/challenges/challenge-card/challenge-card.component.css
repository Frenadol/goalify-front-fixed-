.challenge-mat-card {
  display: flex;
  flex-direction: column;
  transition: transform 0.25s ease-in-out, box-shadow 0.25s ease-in-out; /* Transición un poco más suave */
  cursor: default;
  border-radius: 12px; /* Bordes más redondeados si no lo tienes ya */
  overflow: hidden;
  background-color: #fff; /* Asegurar fondo blanco */
}

.challenge-mat-card:hover {
  transform: translateY(-8px); /* Efecto de elevación un poco más pronunciado */
  box-shadow: 0 12px 28px rgba(0,0,0,0.16); /* Sombra más destacada */
}

.challenge-image {
  height: 200px; /* Buena altura */
  object-fit: cover;
  /* Considera un filtro sutil o superposición si las imágenes varían mucho en color/brillo */
  /* filter: brightness(0.95); */
}

mat-card-header {
  padding: 16px 16px 8px 16px; /* Ajustar padding */
}

mat-card-title {
  font-size: 1.45em; /* Ligeramente más grande */
  font-weight: 600; /* Buen peso */
  color: #343a40; /* Color de texto principal oscuro */
  line-height: 1.3;
  margin-bottom: 6px; /* Ajustar espacio */
}

mat-card-subtitle {
  font-size: 0.9em;
  color: #6c757d; /* Gris suave para subtítulo */
  line-height: 1.4;
  min-height: 2.8em; /* Para alinear tarjetas si algunas no tienen subtítulo */
}

mat-card-content {
  padding: 8px 16px 16px 16px; /* Ajustar padding */
  flex-grow: 1; /* Para que el contenido ocupe el espacio disponible */
  display: flex;
  flex-direction: column;
}

.challenge-description {
  font-size: 0.95em;
  color: #495057; /* Color de texto legible */
  line-height: 1.6;
  margin-bottom: 18px;
  flex-grow: 1; /* Para que la descripción empuje los detalles hacia abajo */
  min-height: 60px; /* Para alinear tarjetas con descripciones de diferente longitud */
}

.challenge-details {
  display: flex;
  flex-direction: column;
  gap: 10px; /* Espacio entre detalles */
  font-size: 0.9em;
  color: #606060;
  margin-bottom: 15px;
  border-top: 1px dashed #e0e0e0; /* Separador sutil */
  padding-top: 12px;
}

.detail-item {
  display: flex;
  align-items: center;
  gap: 8px;
}

.detail-item mat-icon {
  font-size: 1.2em; /* Tamaño de los iconos de detalle */
  color: #007bff; /* O tu color primario */
  opacity: 0.9; /* Un poco menos opaco */
}

.challenge-actions {
  padding: 8px 16px 12px 16px !important; /* Ajustar padding de acciones */
  display: flex;
  justify-content: flex-end; /* Alinea botones a la derecha */
  gap: 10px;
  border-top: 1px solid #f0f0f0; /* Separador muy sutil */
}

.challenge-actions button { /* Estilo para los botones de Material en acciones */
  font-weight: 500 !important;
  border-radius: 20px !important; /* Botones más redondeados */
  padding: 8px 20px !important;
  text-transform: uppercase !important;
  letter-spacing: 0.5px !important;
}

.challenge-actions button mat-icon {
  margin-right: 8px !important;
  vertical-align: middle;
}

.join-challenge-button {
  position: relative; /* Para posicionar el spinner correctamente si es necesario */
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.button-spinner {
  display: inline-block;
  vertical-align: middle;
  margin-right: 8px;
}

.error-message-card {
  color: #dc3545; /* O tu variable de color de error */
  font-size: 0.85em;
  padding: 8px 16px; /* Ajusta según necesites */
  text-align: center;
  background-color: #f8d7da; /* Fondo claro para el error */
  border-top: 1px solid #f5c2c7; /* Borde sutil */
  margin-top: auto; /* Para empujarlo al fondo si las acciones están arriba */
}

.action-error-message {
  color: red;
  font-size: 0.9em;
  padding: 8px 16px;
  display: flex;
  align-items: center;
  gap: 5px;
  background-color: #ffebee; /* Un fondo rojo claro */
  border-radius: 4px;
  margin-top: 10px;
}

.action-error-message mat-icon {
  font-size: 1.2em;
}

.already-joined-button, .already-completed-button {
  border-style: dashed !important;
  opacity: 0.8;
  pointer-events: none; /* No interactuable */
}

.already-completed-button {
  color: var(--color-success, green) !important; /* O un color de éxito de tu tema */
  border-color: var(--color-success-light, lightgreen) !important;
}

.already-completed-button mat-icon {
  color: var(--color-success, green) !important;
}

.already-joined-button {
  cursor: default;
}